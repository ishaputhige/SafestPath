<!DOCTYPE html>
<html>

<head>
    <title>Place Autocomplete</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.css">

    <meta charset="utf-8">
    <style>
        /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
        
        #map {
            height: 100%;
        }
        /* Optional: Makes the sample page fill the window. */
        
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        
        .controls {
            margin-top: 10px;
            border: 1px solid transparent;
            border-radius: 2px 0 0 2px;
            box-sizing: border-box;
            -moz-box-sizing: border-box;
            height: 32px;
            outline: none;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }
        
        #origin-input,
        #destination-input {
            background-color: #fff;
            font-family: Roboto;
            font-size: 15px;
            font-weight: 300;
            margin-left: 12px;
            padding: 0 11px 0 13px;
            text-overflow: ellipsis;
            width: 200px;
        }
        
        #origin-input:focus,
        #destination-input:focus {
            border-color: #4d90fe;
        }
        
        #mode-selector {
            color: #fff;
            background-color: #4d90fe;
            margin-left: 12px;
            padding: 5px 11px 0px 11px;
        }
        
        #mode-selector label {
            font-family: Roboto;
            font-size: 13px;
            font-weight: 300;
        }
        
        li {
            font-family: georgia;
        }
          h1.sixth { position: relative; 
          text-align: center;
          font-size: 60px;}

          h1.sixth:before,
          h1.sixth:after {
            content: '[';
            display: inline-block;
            position: relative;
            top: 1px;
            height: 100%;
            font-size: 1.25em;
            color: tomato;
            
            transition: all 0.5s ease;
          }

          h1.sixth:after { content: ']'; }

          h1.sixth:hover:before { 
            transform: translateX(-5px);
          }

          h1.sixth:hover:after { 
            transform: translateX(5px);
          }
          h1.sixth_2 { position: relative; 
          text-align: center;
          font-size: 30px;}

          h1.sixth_2:before,
          h1.sixth_2:after {
            content: '[';
            display: inline-block;
            position: relative;
            top: 1px;
            height: 100%;
            font-size: 1.25em;
            color: tomato;
            
            transition: all 0.5s ease;
          }

          h1.sixth_2:after { content: ']'; }

          h1.sixth_2:hover:before { 
            transform: translateX(-5px);
          }

          h1.sixth_2:hover:after { 
            transform: translateX(5px);
          }

          

        


    </style>
</head>

<body style="background-image: url(https://camo.githubusercontent.com/a5be49ffbdea09c4eb4c8a5aadf69f53d1f6be437247315b656757435371b645/687474703a2f2f7368616c6c6d656e746d6f2e6769746875622e696f2f696d616765732f6c696e652d646f742d6261636b67726f756e642e676966);">
    <div class="ui main container segment" >
        <h1 class="sixth">Safest Route</h1>
        <h1 class="sixth_2">Because We Care</h1>
    </div>
    <input id="origin-input" class="controls" type="text" placeholder="Enter an origin location">

    <input id="destination-input" class="controls" type="text" placeholder="Enter a destination location">

    <div id="mode-selector" class="controls">
        <input type="radio" name="type" id="changemode-walking" checked="checked">
        <label for="changemode-walking">Walking</label>

        <input type="radio" name="type" id="changemode-transit">
        <label for="changemode-transit">Transit</label>

        <input type="radio" name="type" id="changemode-driving">
        <label for="changemode-driving">Driving</label>
    </div>

    <div id="map" class="ui container"></div>
    <div class="ui container">
        <h2></h2>
    </div>

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBjD2L_ypqNjz5pt7LwrCXKn39GobK0EBs&libraries=places"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

    <script>
        var data = [{
            'lati': 77.249200000000002,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.536300000000001
        }, {
            'lati': 77.085999999999999,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.6127
        }, {
            'lati': 77.2042,
            'type': 'Feature',
            'properties': {
                'mag': 4
            },
            'longi': 28.529900000000001
        }, {
            'lati': 77.236099999999993,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.643599999999999
        }, {
            'lati': 77.193700000000007,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.7026
        }, {
            'lati': 77.293700000000001,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.653400000000001
        }, {
            'lati': 77.226200000000006,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.666399999999999
        }, {
            'lati': 77.265299999999996,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.5307
        }, {
            'lati': 77.066199999999995,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.609100000000002
        }, {
            'lati': 77.267600000000002,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.5623
        }, {
            'lati': 77.306200000000004,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.523
        }, {
            'lati': 77.224199999999996,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.7072
        }, {
            'lati': 77.003600000000006,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.7258
        }, {
            'lati': 77.1738,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.66
        }, {
            'lati': 77.086399999999998,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.5914
        }, {
            'lati': 77.127600000000001,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.7179
        }, {
            'lati': 77.179000000000002,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.570499999999999
        }, {
            'lati': 77.115899999999996,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.702400000000001
        }, {
            'lati': 77.132800000000003,
            'type': 'Feature',
            'properties': {
                'mag': 4
            },
            'longi': 28.674399999999999
        }, {
            'lati': 77.015600000000006,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.6037
        }, {
            'lati': 77.197400000000002,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.736599999999999
        }, {
            'lati': 77.233599999999996,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.652799999999999
        }, {
            'lati': 77.175299999999993,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.709800000000001
        }, {
            'lati': 77.196100000000001,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.603400000000001
        }, {
            'lati': 77.302599999999998,
            'type': 'Feature',
            'properties': {
                'mag': 3
            },
            'longi': 28.6204
        }, {
            'lati': 77.088800000000006,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.679600000000001
        }, {
            'lati': 77.1511,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.465499999999999
        }, {
            'lati': 77.217500000000001,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.649799999999999
        }, {
            'lati': 77.119900000000001,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.639700000000001
        }, {
            'lati': 77.174899999999994,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.733599999999999
        }, {
            'lati': 77.226200000000006,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.643000000000001
        }, {
            'lati': 77.224999999999994,
            'type': 'Feature',
            'properties': {
                'mag': 4
            },
            'longi': 28.6309
        }, {
            'lati': 77.204899999999995,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.569299999999998
        }, {
            'lati': 77.208600000000004,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.700199999999999
        }, {
            'lati': 77.292199999999994,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.668800000000001
        }, {
            'lati': 77.257400000000004,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.533200000000001
        }, {
            'lati': 77.256399999999999,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.5473
        }, {
            'lati': 77.180499999999995,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.6478
        }, {
            'lati': 77.240499999999997,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.587399999999999
        }, {
            'lati': 77.144999999999996,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.630800000000001
        }, {
            'lati': 77.274600000000007,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.526800000000001
        }, {
            'lati': 77.142200000000003,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.725200000000001
        }, {
            'lati': 76.915599999999998,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.595700000000001
        }, {
            'lati': 77.120800000000003,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.6266
        }, {
            'lati': 77.0608,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.709599999999998
        }, {
            'lati': 77.101900000000001,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.710000000000001
        }, {
            'lati': 77.240899999999996,
            'type': 'Feature',
            'properties': {
                'mag': 4
            },
            'longi': 28.559100000000001
        }, {
            'lati': 77.139099999999999,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.798999999999999
        }, {
            'lati': 77.164199999999994,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.7258
        }, {
            'lati': 77.1524,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.5349
        }, {
            'lati': 77.165700000000001,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.742899999999999
        }, {
            'lati': 77.042500000000004,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.796500000000002
        }, {
            'lati': 77.0518,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.724499999999999
        }, {
            'lati': 77.137799999999999,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.633600000000001
        }, {
            'lati': 77.214299999999994,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.498899999999999
        }, {
            'lati': 77.1828,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.635000000000002
        }, {
            'lati': 77.1571,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.716799999999999
        }, {
            'lati': 77.159800000000004,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.684200000000001
        }, {
            'lati': 77.119299999999996,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.697800000000001
        }, {
            'lati': 77.208500000000001,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.665400000000002
        }, {
            'lati': 77.214299999999994,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.629999999999999
        }, {
            'lati': 77.244200000000006,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.592400000000001
        }, {
            'lati': 77.240600000000001,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.6419
        }, {
            'lati': 77.0916,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.6966
        }, {
            'lati': 77.306600000000003,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.666799999999999
        }, {
            'lati': 77.218800000000002,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.6556
        }, {
            'lati': 77.078599999999994,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.7026
        }, {
            'lati': 77.276399999999995,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.6554
        }, {
            'lati': 77.221500000000006,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.688500000000001
        }, {
            'lati': 77.174300000000002,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.692399999999999
        }, {
            'lati': 77.101399999999998,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.638999999999999
        }, {
            'lati': 77.082899999999995,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.588100000000001
        }, {
            'lati': 77.146600000000007,
            'type': 'Feature',
            'properties': {
                'mag': 4
            },
            'longi': 28.6601
        }, {
            'lati': 77.099500000000006,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.609400000000001
        }, {
            'lati': 77.209299999999999,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.645800000000001
        }, {
            'lati': 77.211200000000005,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.654
        }, {
            'lati': 77.199100000000001,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.5745
        }, {
            'lati': 76.982699999999994,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.6098
        }, {
            'lati': 77.087199999999996,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.529599999999999
        }, {
            'lati': 77.317099999999996,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.613600000000002
        }, {
            'lati': 77.303600000000003,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.4938
        }, {
            'lati': 77.144099999999995,
            'type': 'Feature',
            'properties': {
                'mag': 4
            },
            'longi': 28.689
        }, {
            'lati': 77.207700000000003,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.6692
        }, {
            'lati': 77.206500000000005,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.692499999999999
        }, {
            'lati': 77.203199999999995,
            'type': 'Feature',
            'properties': {
                'mag': 3
            },
            'longi': 28.6386
        }, {
            'lati': 77.211200000000005,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.598299999999998
        }, {
            'lati': 77.240499999999997,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.5684
        }, {
            'lati': 77.280699999999996,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.667000000000002
        }, {
            'lati': 77.233699999999999,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.604199999999999
        }, {
            'lati': 77.313100000000006,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.655999999999999
        }, {
            'lati': 77.156199999999998,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.758400000000002
        }, {
            'lati': 77.232799999999997,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.554099999999998
        }, {
            'lati': 77.068299999999994,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.629999999999999
        }, {
            'lati': 77.064899999999994,
            'type': 'Feature',
            'properties': {
                'mag': 4
            },
            'longi': 28.625
        }, {
            'lati': 77.233400000000003,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.564699999999998
        }, {
            'lati': 77.292400000000001,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.562100000000001
        }, {
            'lati': 77.231499999999997,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.662500000000001
        }, {
            'lati': 77.290999999999997,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.5016
        }, {
            'lati': 77.281999999999996,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.540500000000002
        }, {
            'lati': 77.066999999999993,
            'type': 'Feature',
            'properties': {
                'mag': 3
            },
            'longi': 28.681999999999999
        }, {
            'lati': 77.198599999999999,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.558499999999999
        }, {
            'lati': 77.225499999999997,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.6434
        }, {
            'lati': 77.066699999999997,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.578399999999998
        }, {
            'lati': 77.101200000000006,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.671099999999999
        }, {
            'lati': 77.067400000000006,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.6205
        }, {
            'lati': 77.235399999999998,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.618200000000002
        }, {
            'lati': 77.119600000000005,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.651499999999999
        }, {
            'lati': 77.242999999999995,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.509599999999999
        }, {
            'lati': 77.303700000000006,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.607299999999999
        }, {
            'lati': 77.078900000000004,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.747699999999998
        }, {
            'lati': 77.267300000000006,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.659600000000001
        }, {
            'lati': 77.058499999999995,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.5641
        }, {
            'lati': 77.158699999999996,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.647500000000001
        }, {
            'lati': 77.036000000000001,
            'type': 'Feature',
            'properties': {
                'mag': 3
            },
            'longi': 28.6538
        }, {
            'lati': 77.227199999999996,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.5288
        }, {
            'lati': 77.270300000000006,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.637799999999999
        }, {
            'lati': 77.295299999999997,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.638500000000001
        }, {
            'lati': 77.135099999999994,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.640499999999999
        }, {
            'lati': 77.208500000000001,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.549399999999999
        }, {
            'lati': 77.022800000000004,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.8066
        }, {
            'lati': 77.120999999999995,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.730399999999999
        }, {
            'lati': 77.247200000000007,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.627400000000002
        }, {
            'lati': 77.225099999999998,
            'type': 'Feature',
            'properties': {
                'mag': 3
            },
            'longi': 28.575900000000001
        }, {
            'lati': 77.124399999999994,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.598700000000001
        }, {
            'lati': 77.193299999999994,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.6526
        }, {
            'lati': 77.113299999999995,
            'type': 'Feature',
            'properties': {
                'mag': 3
            },
            'longi': 28.657599999999999
        }, {
            'lati': 77.283900000000003,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.643599999999999
        }, {
            'lati': 77.158199999999994,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.6524
        }, {
            'lati': 77.169300000000007,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.558
        }, {
            'lati': 77.193200000000004,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.6526
        }, {
            'lati': 77.260199999999998,
            'type': 'Feature',
            'properties': {
                'mag': 4
            },
            'longi': 28.578399999999998
        }, {
            'lati': 77.088499999999996,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.853200000000001
        }, {
            'lati': 77.311800000000005,
            'type': 'Feature',
            'properties': {
                'mag': 4
            },
            'longi': 28.598199999999999
        }, {
            'lati': 77.213700000000003,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.624700000000001
        }, {
            'lati': 77.071700000000007,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.664999999999999
        }, {
            'lati': 77.306100000000001,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.625399999999999
        }, {
            'lati': 77.1785,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.680599999999998
        }, {
            'lati': 77.306100000000001,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.625399999999999
        }, {
            'lati': 76.966800000000006,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.628699999999998
        }, {
            'lati': 76.994699999999995,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.5869
        }, {
            'lati': 77.180199999999999,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.5215
        }, {
            'lati': 77.146000000000001,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.700399999999998
        }, {
            'lati': 77.081900000000005,
            'type': 'Feature',
            'properties': {
                'mag': 3
            },
            'longi': 28.628599999999999
        }, {
            'lati': 77.183700000000002,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.668399999999998
        }, {
            'lati': 77.192599999999999,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.670000000000002
        }, {
            'lati': 77.202600000000004,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.684999999999999
        }, {
            'lati': 77.152299999999997,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.5349
        }, {
            'lati': 77.118200000000002,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.7089
        }, {
            'lati': 77.332700000000003,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.6249
        }, {
            'lati': 77.316500000000005,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.678100000000001
        }, {
            'lati': 77.268600000000006,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.674299999999999
        }, {
            'lati': 77.298599999999993,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.6828
        }, {
            'lati': 77.285200000000003,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.674199999999999
        }, {
            'lati': 77.256100000000004,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.711099999999998
        }, {
            'lati': 77.291700000000006,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.696100000000001
        }, {
            'lati': 77.3185,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.706
        }, {
            'lati': 76.960800000000006,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.670400000000001
        }, {
            'lati': 77.264399999999995,
            'type': 'Feature',
            'properties': {
                'mag': 3
            },
            'longi': 28.7013
        }, {
            'lati': 77.272999999999996,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.679099999999998
        }, {
            'lati': 77.274799999999999,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.673400000000001
        }, {
            'lati': 77.308199999999999,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.698499999999999
        }, {
            'lati': 77.316000000000003,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.684999999999999
        }, {
            'lati': 77.262100000000004,
            'type': 'Feature',
            'properties': {
                'mag': 0
            },
            'longi': 28.672000000000001
        }, {
            'lati': 77.256100000000004,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.711300000000001
        }, {
            'lati': 77.274500000000003,
            'type': 'Feature',
            'properties': {
                'mag': 2
            },
            'longi': 28.732800000000001
        }, {
            'lati': 77.280799999999999,
            'type': 'Feature',
            'properties': {
                'mag': 1
            },
            'longi': 28.702200000000001
        }];

        var danger_index = JSON.parse("[12.197337509788301, 1.9999999999997689, 5.7220000000001034, 4.000000000000104, 7.802484472049778, 15.322784810126576, 9.923076923076911, 0.9999999999999989, 3.000000000000015]"); //(with path)

        var second_cluster = { "12.197337509788301": { "0": [40.81890208829577, -73.89256323215493], "1": [40.68155498474576, -73.9665736118644], "2": [40.69630364530953, -73.74909211354762], "3": [40.60523064666667, -74.13589953333333], "4": [40.72591745, -73.89285621666667], "5": [40.76074229038461, -73.95961075576923], "6": [40.611497640625004, -73.92379404375001], "7": [40.706287286666665, -73.80515537777778], "8": [40.88468392285714, -73.83961339142857], "9": [40.62550783939394, -74.03228353636364], "10": [40.681929497645164, -73.87767615262904], "11": [40.717475216949154, -73.99265191694916], "12": [40.7627597, -73.77456662962963], "13": [40.82518161233963, -73.9384462965849], "14": [40.62934698142857, -73.97361475142857], "15": [40.602113847615385, -73.75516980528846], "16": [40.545412377272726, -74.19305621363637], "17": [40.85292308157895, -73.86891297894736], "18": [40.7028415489434, -73.92005972779245], "19": [40.74870556378788, -73.86084178792424], "20": [40.76575713863636, -73.81966509545455], "21": [40.66940707048148, -73.90882252981481], "22": [40.607611972131146, -73.96699958688525], "23": [40.80023756604546, -73.93558316263636], "24": [40.73617170107527, -73.98586741935483], "25": [40.74245898502273, -73.91400566572727], "26": [40.65208024050633, -73.92654778354431], "27": [40.608343827235295, -74.08550085682353], "28": [40.8549255060606, -73.88597004242425], "29": [40.758365140623376, -73.98969763840259], "30": [40.823071673584906, -73.85898430943396], "31": [40.69924979683929, -73.94332015130357], "32": [40.669074457777775, -73.80448171555555], "33": [40.84587987538462, -73.91588836923077], "34": [40.72623004736842, -73.75056351315789], "35": [40.65221762777778, -74.0075708388889], "36": [40.5861333, -73.82592314], "37": [40.67838025675676, -73.75993419189189], "38": [40.80596865822951, -73.94876489240984], "39": [40.707735137837844, -73.85617985675675], "40": [40.59942972708333, -73.99606424166667], "41": [40.7692283325, -73.92985335], "42": [40.64324417777778, -73.87891802777777], "43": [40.6679019806, -73.95545434758333], "44": [40.66576884, -73.99128253428572], "45": [40.548952560000004, -74.14620280999999], "46": [40.53278347777778, -74.21367055555555], "47": [40.67827887965278, -73.92688002172223], "48": [40.879035258795454, -73.9072112845], "49": [40.69576549259259, -73.97692112592593], "50": [40.68384095919231, -73.8420986315], "51": [40.748945725, -73.712093475], "52": [40.57504510434783, -74.09656572608695], "53": [40.74424904269663, -73.8972069505618], "54": [40.8623725, -73.82573794761905], "55": [40.637154141753626, -73.9464055050145], "56": [40.78559785765625, -73.97800679434374], "57": [40.63568767719298, -73.99168599824561], "58": [40.820694483333334, -73.91111498166667], "59": [40.642730374, -73.901096502], "60": [40.66507396862745, -73.7357891372549], "61": [40.69534163, -73.78267178819999], "62": [40.582404658929825, -73.97052177238596], "63": [40.742498270967744, -73.81797198709678], "64": [40.72134206052632, -73.94122199736842], "65": [40.63291285464707, -74.16394060276471], "66": [40.58538321724138, -73.93771381034483], "67": [40.637799615384615, -74.1006499923077], "68": [40.71617620789473, -73.82862600789474], "69": [40.83971584528302, -73.94298609811321], "70": [40.82572653030303, -73.84263284848485], "71": [40.7124290062875, -73.959129427725], "72": [40.87863728490566, -73.86644865471699], "73": [40.74978928018868, -73.97378838301887], "74": [40.711436, -73.90247746976745], "75": [40.67836213452239, -73.95058676553731], "76": [40.59073634736842, -74.1653574], "77": [40.73151759756098, -73.86222849756098], "78": [40.77126922682927, -73.90612434634146], "79": [40.6488122995082, -73.95412823063934], "80": [40.837696524390246, -73.87387350731707], "81": [40.754761563636364, -73.74309221363636], "82": [40.72043971470588, -73.78223739117647], "83": [40.59267296, -73.78621517], "84": [40.775727683333336, -73.80235945], "85": [40.69244864358974, -73.81411692051282], "86": [40.75850549655172, -73.92376028793103], "87": [40.80693567631579, -73.91281441578947], "88": [40.766042361656254, -73.87612922996874], "89": [40.65549867090625, -73.89006706414062], "90": [40.78202704991667, -73.956755639], "91": [40.6312991, -74.12139514848485], "92": [40.670996045280006, -73.8676249044], "93": [40.619368989473685, -73.99945186578947], "94": [40.78651289375, -73.81929435], "95": [40.70945166296296, -73.73156454814814], "96": [40.560809042857144, -74.13169845], "97": [40.59522923157895, -73.9073072263158], "98": [40.71883580222059, -74.00488621563235], "99": [40.676276637142855, -74.0037157], "100": [40.62636204166667, -73.92144911111112], "101": [40.66531083605479, -73.92219725921917], "102": [40.664541115, -73.83360608], "103": [40.84421464571429, -73.92481308857143], "104": [40.76001780149254, -73.97896293582089], "105": [40.81458219626, -73.95583372024], "106": [40.741059193333335, -74.00327622444445], "107": [40.7442579, -73.83652218518519], "108": [40.78544571384615, -73.94398758307692], "109": [40.623062155458335, -74.0804745705], "110": [40.6643346949403, -73.77005852191044], "111": [40.679951748347825, -73.91109492549275], "112": [40.86408728533962, -73.92390263450943], "113": [40.74605038996667, -73.95094154576667], "114": [40.8601257285625, -73.89518222117188], "115": [40.90409984, -73.90079104], "116": [40.71069424860715, -73.75268635199998], "117": [40.81819372222222, -73.81057212222223], "118": [40.81211677352941, -73.92860107058823], "119": [40.882395625, -73.82187441], "120": [40.69258328055555, -73.73104377777778], "121": [40.72071528983051, -73.97838768305084], "122": [40.63143708867925, -74.0076080018868], "123": [40.81428236851852, -73.94197602777778], "124": [40.750023654, -73.98814793431958], "125": [40.71122699130435, -73.94464514202899], "126": [40.69807028461538, -73.89413715384616], "127": [40.64526230882353, -73.97583312205882], "128": [40.67981815625, -73.858535209375], "129": [40.867171416666665, -73.83695743], "130": [40.70235356590909, -73.95187667727272], "131": [40.76164593888889, -73.88982374722222], "132": [40.66946120835211, -73.93479901361972], "133": [40.72208747419355, -73.80344472580646], "134": [40.60300526341463, -73.98166070731708], "135": [40.60939778666667, -73.95149195666667], "136": [40.58612330010145, -73.95744856410145], "137": [40.51674334, -74.23928586666666], "138": [40.66670500402128, -73.88345652006383], "139": [40.6007548137931, -74.06597799310344], "140": [40.83059289707408, -73.9224496890185], "141": [40.6966702275862, -73.93474101034484], "142": [40.60974457647059, -74.15422817058824], "143": [40.736049725, -73.72711905625], "144": [40.873765779883726, -73.85215199939535], "145": [40.62935407857143, -73.89033048571429], "146": [40.85065347317073, -73.84889622926829], "147": [40.75465699583334, -73.90798708333334], "148": [40.65438231501539, -73.91247593093846], "149": [40.614553236842106, -74.10347828947368], "150": [40.740302708, -73.87544045599999], "151": [40.82708663119608, -73.87079692843137], "152": [40.793356663793105, -73.97080441896551], "153": [40.70742228493151, -73.79099853150684], "154": [40.89086749397826, -73.85915483493478], "155": [40.83446040681818, -73.90075083863637], "156": [40.879347411764705, -73.87949132352941], "157": [40.69357745666667, -73.76435662666667], "158": [40.5698286, -74.114335359375], "159": [40.721571707692306, -73.90991122051283], "160": [40.72799016458333, -73.95262144166666], "161": [40.67113037027027, -73.81997268378379], "162": [40.579970995500005, -73.99007076029412], "163": [40.787601515789476, -73.83929339473684], "164": [40.761053275, -73.78942404583333], "165": [40.66504396341463, -73.75396239268292], "166": [40.73726145681818, -73.7717564515909], "167": [40.706142165, -73.87275871], "168": [40.764293869565215, -73.83929153913043], "169": [40.73199805, -73.92281561538462], "170": [40.758881480645165, -73.80722416451613], "171": [40.854605425, -73.7909299], "172": [40.67556836739131, -73.97742093043479], "173": [40.843306437037036, -73.83297869259259], "174": [40.68844428977778, -73.92121090724444], "175": [40.8503520581, -73.90756573355715], "176": [40.71563218181818, -73.76625856136363], "177": [40.762792028571425, -73.73002001428571], "178": [40.557798932, -74.17225450000001], "179": [40.741693062195125, -73.97768821707317], "180": [40.539392876190476, -74.16107996666666], "181": [40.66978822758621, -73.7863218586207], "182": [40.618094334615385, -73.98679547307692], "183": [40.725474036, -73.85241535200001], "184": [40.8989422439, -73.8499929371], "185": [40.76002483739773, -73.96795196217046], "186": [40.655989789705885, -73.94674146470588], "187": [40.57670594375, -74.15073003124999], "188": [40.69210268378049, -73.8569744764878], "189": [40.64099763225806, -74.01745561935483], "190": [40.86963619756098, -73.88692572682928], "191": [40.77228204347826, -73.95197187173913], "192": [40.69724028092157, -73.80254506988236], "193": [40.7768915375, -73.77570773125], "194": [40.76290229655172, -73.75913811034482], "195": [40.75222348449091, -73.87500577465454], "196": [40.777267896875, -73.982326521875], "197": [40.65399488333333, -73.86745632777777], "198": [40.70903684615384, -73.93044062051283], "199": [40.637184287755105, -73.93141902040816], "200": [40.627990000000004, -74.13986146538461], "201": [40.57336433333334, -73.87790666666666], "202": [40.82675697435897, -73.94863705641026], "203": [40.66611996266666, -73.84267457643334], "204": [40.84134294136585, -73.8834366395122], "205": [40.63706876818182, -74.08064961363635], "206": [40.72942682666667, -74.00149926166667], "207": [40.753381643478264, -73.93813896521739], "208": [40.84054348695652, -73.86232357173914], "209": [40.759297184375, -73.861246059375], "210": [40.676828010765625, -73.896473349375], "211": [40.758769251612904, -73.82863604032258], "212": [40.69627559245283, -73.90998858867925], "213": [40.63894878586539, -73.9145957270577], "214": [40.58741316764706, -74.09332371470587], "215": [40.704402518421055, -73.81851895], "216": [40.735799415, -73.70977666499999], "217": [40.65107915714285, -73.74011315], "218": [40.608812865384614, -74.11926543846154], "219": [40.72586354941176, -73.9883738482353], "220": [40.70928127037037, -74.01025463148149], "221": [40.63964827450909, -73.95989715090909], "222": [40.738267501886796, -73.8506369981132], "223": [40.68638223846154, -73.97858459692308], "224": [40.60911096666667, -74.00830014545456], "225": [40.66119564897959, -73.93523818979591], "226": [40.59557725, -74.19206525000001], "227": [40.769978457692304, -73.91671907307692], "228": [40.837762435483874, -73.8495517032258], "229": [40.89948461666667, -73.87592676666667], "230": [40.68946650851064, -73.95346412340426], "231": [40.62727287626923, -74.02301673690384], "232": [40.663129340816326, -73.89589993469387], "233": [40.81387028, -73.9013676], "234": [40.745510155812504, -73.88492391779167], "235": [40.67558161212121, -73.7360061030303], "236": [40.850150616444445, -73.93460238273016], "237": [40.705447980487804, -73.99148083658537], "238": [40.622429044444445, -73.95859401333333], "239": [40.73839201111111, -73.79434251111111], "240": [40.862810122727275, -73.91293976363636], "241": [40.846441150909094, -73.89842794545454], "242": [40.72178317878788, -73.81733152121213], "243": [40.88613346842105, -73.89626357368422], "244": [40.74844377241379, -73.75795813793103], "245": [40.83352355045283, -73.91335799973585], "246": [40.79570182120371, -73.94634509057407], "247": [40.68676566411765, -73.99788013132353], "248": [40.7690251328125, -73.98675732812501], "249": [40.82645903108772, -73.88649697398246], "250": [40.682650804761906, -73.80294877857143], "251": [40.72458532058823, -73.83952549705883], "252": [40.6551496983871, -73.9619926516129], "253": [40.80591506296296, -73.92037022962963], "254": [40.817981098, -73.923749246], "255": [40.6992090358209, -73.96084374776119], "256": [40.599309524, -73.938557028], "257": [40.6804452108, -73.77715189948572], "258": [40.717726088444444, -73.737531387], "259": [40.75636232754717, -73.99937675413207], "260": [40.7078446875122, -73.83647711409756], "261": [40.8659669872439, -73.90170143834146], "262": [40.68766068181818, -73.82682810681818], "263": [40.621642193939394, -73.94037453333333], "264": [40.68123772192754, -73.93967026865218], "265": [40.86483210882927, -73.86649673285366], "266": [40.80296169268293, -73.96321207560976], "267": [40.6089108923077, -74.03525142307691], "268": [40.74256379310667, -73.99363673677334], "269": [40.76926304897959, -73.9635890755102], "270": [40.741098854545456, -73.93299681212122], "271": [40.789479075, -73.78952609375], "272": [40.69218320089333, -73.98717542981333], "273": [40.82988360416667, -73.8247183], "274": [40.6185265, -74.17054259999999], "275": [40.59574852692308, -73.95232452307692], "276": [40.642909138709676, -74.00117973548387], "277": [40.722851752173916, -73.8788632], "278": [40.733249070603776, -73.86963314415094] }, "1.9999999999997689": { "0": [40.58877014607148, -73.9680984701428], "1": [40.809832996000054, -73.92696773160866], "2": [40.6803515480455, -73.77800399590905], "3": [40.6998914781429, -73.9112661080714], "4": [40.62286051800005, -74.14667320742853], "5": [40.721550205125055, -73.99132024399997], "6": [40.760463155636415, -73.81952372799995], "7": [40.85399394892312, -73.85029179546152], "8": [40.58959411087505, -73.80543171374995], "9": [40.63202031072733, -73.98173802390906], "10": [40.51947178575004, -74.23918410624998], "11": [40.5865271768572, -74.09967486428567], "12": [40.6946838124546, -73.8345861344545], "13": [40.652000140956574, -73.946190034913], "14": [40.85805804929417, -73.90502828247055], "15": [40.737166968700045, -73.86590930389995], "16": [40.672863428785774, -73.87787789492853], "17": [40.76515223900005, -73.98078940566661], "18": [40.75820909720006, -73.73736168439996], "19": [40.641384155833386, -74.07898143649997], "20": [40.70587812088242, -73.79348297429408], "21": [40.70176054575005, -73.74209999074995], "22": [40.69279511604551, -73.95091835495451], "23": [40.598651271600055, -73.75258933299996], "24": [40.68170129954551, -73.99126272045451], "25": [40.736609368400046, -73.92371761479997], "26": [40.81979781800005, -73.87617984574996], "27": [40.75818569888239, -73.87689238323524], "28": [40.7975166144546, -73.96333155381815], "29": [40.64700940980005, -73.90542785689996], "30": [40.53830803300008, -74.14271613799998], "31": [40.75265084487504, -73.96096400812496], "32": [40.63137564387506, -74.01800095824996], "33": [40.670958907666716, -73.92444622066664], "34": [40.77370758650005, -73.91409562516662], "35": [40.83938051469236, -73.92476662753842], "36": [40.75142881472732, -73.99422746963633] }, "5.7220000000001034": { "0": [40.67370085622225, -73.91009606881481], "1": [40.844105930870995, -73.93657135703224], "2": [40.7272093506154, -73.73417028576922], "3": [40.63960280516669, -74.01718194549998], "4": [40.735766560285754, -73.98629453311426], "5": [40.82103530831821, -73.8667073863636], "6": [40.6701874036875, -73.820755260375], "7": [40.574323376076954, -74.1092658223846], "8": [40.77214340153851, -73.91582239961537], "9": [40.73579821033334, -73.87709308233333], "10": [40.64737682297225, -73.95101816316664], "11": [40.894771403888896, -73.86871258277777], "12": [40.70568043538466, -73.82731922869229], "13": [40.8132008235556, -73.95138505759256], "14": [40.68072079251615, -73.77705071299998], "15": [40.689365663000025, -73.96265217331577], "16": [40.514897049800034, -74.24326791459998], "17": [40.8620294106667, -73.89538282299998], "18": [40.76270232628575, -73.98795441289282], "19": [40.59029072142863, -73.81701424799995], "20": [40.61206431666667, -74.07912141666667], "21": [40.580195106400026, -73.98354864951997], "22": [40.66959680828891, -73.8844700478222], "23": [40.60180147458338, -73.75307099358331], "24": [40.76156762929415, -73.83065988047058], "25": [40.82494551652004, -73.91178839079997], "26": [40.74714624693334, -73.93322295566666], "27": [40.75687487592308, -73.75354270423077], "28": [40.85960988100002, -73.84150236956248], "29": [40.703773921642885, -73.89229178207141], "30": [40.59454336666667, -73.92527326666666], "31": [40.63794588965001, -73.89693498774999], "32": [40.54455943333333, -74.17287359999999], "33": [40.625345307954575, -73.93985306722726], "34": [40.62932006100002, -74.1518374162], "35": [40.887886855750025, -73.84833962574999], "36": [40.70515862461113, -73.79734630466665], "37": [40.69728914736366, -73.9163129792727], "38": [40.81106744448574, -73.92594477537139], "39": [40.628076633888924, -73.9906148233333], "40": [40.697033940000004, -73.74776604], "41": [40.59455901564289, -73.95992436457139], "42": [40.71765194458335, -73.85120744749999], "43": [40.71820163548841, -74.00068754920927], "44": [40.79413950925004, -73.96918546154997], "45": [40.60735188571429, -74.03602294285713], "46": [40.73936196700004, -74.00273986725922], "47": [40.64275075450003, -74.07844671881247], "48": [40.59266668300001, -74.16746294149999], "49": [40.76176682191669, -73.88722783758331], "50": [40.67201030955885, -73.95212787335292], "51": [40.7900830576, -73.81562893339999], "52": [40.689618921590956, -73.9826131102727], "53": [40.660525247047666, -73.99836984390474], "54": [40.822540559450026, -73.89265509632497], "55": [40.78958911036003, -73.94586110923997], "56": [40.68050774326318, -73.84726187110525], "57": [40.6516307415, -73.92048782957693], "58": [40.75884706827783, -73.96745529955552], "59": [40.60578934, -74.12936418], "60": [40.868501206869595, -73.87668213921737], "61": [40.666735100000004, -73.73352403749999], "62": [40.83731494272005, -73.92105020859997], "63": [40.69353372864002, -73.93903940571998], "64": [40.84194353989475, -73.86924833263157], "65": [40.660214433250005, -73.76952906316666], "66": [40.740765536800005, -73.78923370159998], "67": [40.879112356636405, -73.90729221963633], "68": [40.61717019754546, -74.01335685363637], "69": [40.70902253333333, -73.76949806666666], "70": [40.715579339952406, -73.95031259176187], "71": [40.84495267125003, -73.90586668866666], "72": [40.67208437954549, -73.93053460522727], "73": [40.75114547658337, -73.8705075719583], "74": [40.73669337733334, -73.91226485941667], "75": [40.72886617654551, -73.8095895623636], "76": [40.740978698800006, -73.84780948833333], "77": [40.63051828400003, -73.97013739256249], "78": [40.855150673551755, -73.9016338067586], "79": [40.83552773000001, -73.83325034359999] }, "4.000000000000104": { "0": [40.733949418952385, -73.84671018447618], "1": [40.65236239473684, -73.92381242368421], "2": [40.843705218333334, -73.91618288104166], "3": [40.58938298888889, -74.17375369999999], "4": [40.719935590625, -73.985334878125], "5": [40.68978777142857, -73.77886464285713], "6": [40.59084979365, -73.99051464124999], "7": [40.863568773636366, -73.89120885287879], "8": [40.791563534615385, -73.94649913846155], "9": [40.639845102550005, -74.02071145484999], "10": [40.7305631, -73.76146828571429], "11": [40.669659360714284, -73.87065211071429], "12": [40.76589354, -73.94883055333334], "13": [40.62996350376925, -74.15065436884615], "14": [40.89416155133334, -73.85277782142857], "15": [40.58285874128572, -74.08871357085714], "16": [40.73534254545454, -73.90722617272728], "17": [40.783553362393945, -73.81989045363636], "18": [40.682226775, -73.824612645], "19": [40.826765776923075, -73.85938267692308], "20": [40.61267726086957, -73.93307645652175], "21": [40.60081961963637, -73.76056354736363], "22": [40.733430375, -74.00096254375], "23": [40.688012127241386, -73.98162213593103], "24": [40.66835258611111, -73.74365211666667], "25": [40.70533631725926, -73.8140512814074], "26": [40.73686531578947, -73.71397264736842], "27": [40.61995903094446, -73.99343137516667], "28": [40.65952674166667, -73.95635167500001], "29": [40.690251813043474, -73.93025092173913], "30": [40.76492433132, -73.98996438648], "31": [40.65527277662963, -73.90783120892593], "32": [40.83309298372414, -73.83731296065517], "33": [40.63046448936364, -74.08060850727273], "34": [40.75780370464287, -73.86647724199999], "35": [40.5271877, -74.222198925], "36": [40.81542693103572, -73.92790498332143], "37": [40.63102705909091, -73.92662535454545], "38": [40.74123807142857, -73.79364235], "39": [40.72740913940741, -73.8688202422963], "40": [40.8664259777353, -73.91586914361764], "41": [40.80354787943333, -73.93771041313333], "42": [40.71408582580645, -73.79030668709677], "43": [40.82432920827779, -73.88989975116667], "44": [40.69880846666667, -73.75375881851852], "45": [40.561134425, -74.141557225], "46": [40.88841067333333, -73.88938347999999], "47": [40.763002100782614, -73.895855728], "48": [40.631218128571426, -73.89752648095238], "49": [40.73945812631579, -73.94370722105263], "50": [40.76209653571429, -73.82856557507142], "51": [40.63287055, -73.97205458333333], "52": [40.69040515625, -73.8659806375], "53": [40.5688075, -73.86909299999999], "54": [40.53854570236364, -74.16935798636362], "55": [40.64150877885715, -74.00274276771428], "56": [40.69288744535, -73.9962142055], "57": [40.613455634615384, -73.95658465], "58": [40.716912332576925, -73.83434388065385], "59": [40.76622306577779, -73.77765380544444], "60": [40.6891917, -73.73252129285714], "61": [40.745449294703704, -73.98264861151851], "62": [40.66704490285714, -73.77052195142858], "63": [40.66778250752174, -73.993747309], "64": [40.67542303906061, -73.91205837745454], "65": [40.81463003439394, -73.91008817824242], "66": [40.66402855, -73.93390936538461], "67": [40.770478774866675, -73.91717303386666], "68": [40.859258017406255, -73.86373240946875], "69": [40.666684125, -73.8438644125], "70": [40.66849681008, -73.7986439768], "71": [40.61548211000001, -74.01894936068182], "72": [40.61904194007143, -74.12139854214286], "73": [40.69752665862069, -73.95825342413794], "74": [40.5935149, -73.805357375], "75": [40.85966191428572, -73.82831507142856], "76": [40.58691547777778, -73.92077971111111], "77": [40.71148423076923, -74.00566708461538], "78": [40.71379147448276, -73.94906325999999], "79": [40.6912292, -73.80355050434783], "80": [40.816000438730775, -73.94961891076923], "81": [40.752754228, -73.92866031199999], "82": [40.57513589375, -74.10970196875], "83": [40.674214990243904, -73.89256830243903], "84": [40.605842052000014, -74.15337656044444], "85": [40.8819996625, -73.83655409583334], "86": [40.83684571851852, -73.8782981074074], "87": [40.698945320478266, -73.9130655073913], "88": [40.6881157826087, -73.84613853478261], "89": [40.79820738666667, -73.96924926666667], "90": [40.74840742666667, -73.73215064666667], "91": [40.7122615485625, -73.736088414875], "92": [40.611273523076925, -74.0961168], "93": [40.644922300477276, -73.94617104820455], "94": [40.682337557857146, -73.96723771309523], "95": [40.58717605458824, -73.95845530870588], "96": [40.737080839130435, -73.82062645652174], "97": [40.743868276470586, -73.88564803529411], "98": [40.67944595473334, -73.94236201083332], "99": [40.75945381304348, -73.96543666086957], "100": [40.87709430952381, -73.86769099523809], "101": [40.60533351428572, -74.06506355714285], "102": [40.84691912844737, -73.90268170939474], "103": [40.65468872056522, -73.88590227352174], "104": [40.8389589374, -73.93734657662857] }, "7.802484472049778": { "0": [40.66291787400005, -73.74268381816663], "1": [40.819068377312554, -73.91539497212496], "2": [40.71849057004551, -73.98023948072723], "3": [40.60770912000004, -74.11990334249998], "4": [40.67399295725005, -73.92926194034996], "5": [40.78588430566672, -73.83404199383328], "6": [40.88661640457698, -73.85279030253842], "7": [40.70522686269571, -73.7959597673478], "8": [40.8456560431429, -73.89245953464284], "9": [40.62471832038467, -73.9369944413846], "10": [40.763190528714325, -73.93183950328567], "11": [40.64018322693755, -74.00596951343745], "12": [40.51044593977782, -74.24776643366664], "13": [40.740172263000055, -73.86032603482349], "14": [40.7466000926191, -73.99087383528567], "15": [40.60153452633338, -73.75648877791663], "16": [40.7898864918966, -73.94272833755169], "17": [40.69009144202783, -73.94606696949997], "18": [40.725408347071465, -73.73755174164282], "19": [40.85593212012504, -73.84009138049997], "20": [40.67158803758829, -73.8798790085882], "21": [40.58684971373338, -73.9760920589333], "22": [40.87216374866671, -73.87645236376663], "23": [40.83254258531823, -73.88182469913633], "24": [40.66947486857148, -73.77333346157138], "25": [40.6545804723044, -73.94870207669561], "26": [40.706679940000036, -73.89721013977774], "27": [40.68750117345005, -73.98014908849997], "28": [40.8405878437188, -73.91314053890622], "29": [40.633428890200044, -74.11970935729997], "30": [40.68638290262504, -73.86201620924996], "31": [40.824874172600055, -73.82515055539996], "32": [40.754123371087005, -73.87534436395649], "33": [40.72870694576005, -73.99862295467996], "34": [40.642401732000046, -74.07880908774999], "35": [40.624911218916715, -74.15222785416664], "36": [40.56175920175005, -74.12711968449995], "37": [40.86001400748576, -73.89899157747139], "38": [40.72760854425005, -73.81074547491663], "39": [40.84328714527278, -73.93505310533328], "40": [40.58741106400004, -73.81263702299995], "41": [40.54270774033337, -74.2024774623333], "42": [40.742730868933386, -73.89519032533329], "43": [40.73302728108338, -73.95310340966662], "44": [40.818280473607196, -73.94684662739282], "45": [40.79286828400005, -73.97092934899996], "46": [40.81923666976196, -73.8702339198095], "47": [40.699017349076975, -73.83085910723072], "48": [40.76050316780005, -73.82804966279996], "49": [40.67154835987505, -73.90428857862497], "50": [40.88422051609096, -73.90277293954541], "51": [40.61355097660006, -74.08016237459996], "52": [40.6958449036957, -73.91866830882604], "53": [40.83249767240914, -73.8515723158636], "54": [40.64529924940005, -73.89175518799996], "55": [40.860973968000046, -73.91673432949997], "56": [40.62529715483338, -74.03026562399998], "57": [40.59333682545459, -73.94009700099996], "58": [40.67209618923081, -73.99829005084612], "59": [40.80923981635139, -73.9206436089459], "60": [40.76330385577783, -73.97301908566662], "61": [40.74320982120004, -73.77437098819998], "62": [40.8197820213429, -73.89565777819995], "63": [40.769498228200064, -73.9139022815333], "64": [40.71249493987504, -74.00430535631246], "65": [40.587136042500056, -73.99719399499996], "66": [40.76032381277783, -73.98861738961106], "67": [40.64552226060006, -73.96201402173328], "68": [40.679145622500045, -73.83367329699996], "69": [40.580995732200044, -74.09464581639996], "70": [40.80340227906388, -73.94293936570209], "71": [40.68181007925931, -73.77855488899996], "72": [40.65411735000005, -73.9202094968235] }, "15.322784810126576": { "0": [40.8707137912308, -73.83695333430768], "1": [40.68916700850004, -73.96125295787498], "2": [40.67800156552635, -73.78139838226312], "3": [40.80097003160004, -73.94045436386662], "4": [40.62536403975005, -74.16011443999996], "5": [40.611362436111136, -74.00353480177776], "6": [40.72544724885716, -73.85827375471428], "7": [40.64989287664289, -73.8940773077857], "8": [40.75560421159095, -73.98030111886361], "9": [40.85566407418186, -73.90209815781816], "10": [40.523099155200015, -74.23694783079999], "11": [40.588639415200035, -73.80125601219996], "12": [40.71999078766671, -73.9953947038095], "13": [40.59536521162502, -73.95130198662497], "14": [40.753595483333335, -73.74628838333334], "15": [40.68061808194447, -73.83270015244443], "16": [40.6338459530667, -73.93299972999998], "17": [40.5962861726667, -74.08742858011108], "18": [40.6443932604167, -74.01189897408331], "19": [40.68872175164004, -73.94190226719996], "20": [40.743000547461556, -73.91850981892306], "21": [40.674920555833374, -73.87367025199997], "22": [40.762405524000016, -73.83365741019999], "23": [40.837772517083366, -73.87467572566665], "24": [40.71896135028575, -73.82171448228569], "25": [40.88827192305003, -73.85701623664998], "26": [40.71771253555556, -73.76291481911112], "27": [40.754495171952414, -73.87602626404758], "28": [40.87041446375002, -73.87663502349999], "29": [40.81378224700004, -73.9510608867333], "30": [40.700891151105296, -73.7970860593684], "31": [40.673770728875034, -73.90846992943747], "32": [40.82118258575001, -73.831065600375], "33": [40.60118226912505, -73.75617840737497], "34": [40.8411511336191, -73.91251775528568], "35": [40.81607565033338, -73.91492754890906], "36": [40.67025609911114, -73.74883525177775], "37": [40.626409489700016, -74.12495769839998], "38": [40.5675691, -73.8827563], "39": [40.88148377225005, -73.90902887799996], "40": [40.570243333333345, -74.14023666666667], "41": [40.76397109755556, -73.78550777099998], "42": [40.63596013675004, -74.07913581974998], "43": [40.686566898380995, -73.98692716390474], "44": [40.69771622280003, -73.91517748859998], "45": [40.695109535100045, -73.75107891829998], "46": [40.62617309090909, -73.96970936363637], "47": [40.78559345400004, -73.9675432914615], "48": [40.73802696242862, -73.99820121771425], "49": [40.669388393894764, -73.92866706889473], "50": [40.619482724166694, -74.02693413999998], "51": [40.579421202800035, -73.97431210729997], "52": [40.708978527400035, -73.95248748179998], "53": [40.83721091780003, -73.93578393546666], "54": [40.65412804422227, -73.95139697316664] }, "9.923076923076911": { "0": [40.751975403852995, -73.99015208441173], "1": [40.68744535492312, -73.78381800799997], "2": [40.56979132020007, -74.10940138819998], "3": [40.81048242371434, -73.94590560739282], "4": [40.58306170833337, -73.97692516724996], "5": [40.73766982316133, -73.86889104609673], "6": [40.68653490741941, -73.97662458709674], "7": [40.85701938100005, -73.84623801011108], "8": [40.65907993562505, -73.87612728974996], "9": [40.677881179000046, -73.93191720964703], "10": [40.84659690560005, -73.93399321359998], "11": [40.63313037000005, -74.07767312333331], "12": [40.628116772285765, -73.93507372099997], "13": [40.51694700150003, -74.24214075099997], "14": [40.71907317321435, -73.98394078957138], "15": [40.62372988150007, -74.15354866433329], "16": [40.78321177137506, -73.95002232481245], "17": [40.75669928133337, -73.74951669966666], "18": [40.59245236133336, -73.81618888733331], "19": [40.61156636860005, -74.01205209959997], "20": [40.76233372723083, -73.83101931138457], "21": [40.87862434812505, -73.90842765787494], "22": [40.677741530600045, -73.83837813459996], "23": [40.82187332950005, -73.83626296224995], "24": [40.855294350500046, -73.89632100274997], "25": [40.81721508636369, -73.9103885564545], "26": [40.70252200737504, -73.91484163299995], "27": [40.79467340256254, -73.97137279731245], "28": [40.64623639500006, -73.96871324299995], "29": [40.76073439973339, -73.91012514339995], "30": [40.57774569825004, -74.16838979499995], "31": [40.82497839200007, -73.8654582782857], "32": [40.713289382200045, -73.73882476419996], "33": [40.889967947500054, -73.85583582366661], "34": [40.76091156583876, -73.9750035557419], "35": [40.60639072650005, -73.75183260899996], "36": [40.72576104920005, -73.95156392039996], "37": [40.737306192520045, -73.99525177719995], "38": [40.716743201263206, -74.00273370231575], "39": [40.646622558818244, -74.00046411618177], "40": [40.709294127714344, -73.81785571657139] }, "0.9999999999999989": { "0": [40.75557894285714, -73.86612057142857], "1": [40.72075351410001, -73.99770540819999], "2": [40.87918883333334, -73.87435464444445], "3": [40.65007108968751, -73.943276706625], "4": [40.68747707111112, -73.78390406444444], "5": [40.612508500000004, -74.1524775], "6": [40.80158132713335, -73.94453897966665], "7": [40.694526996454556, -73.95026932536364], "8": [40.676166993111124, -73.90585304788888], "9": [40.63198588140001, -74.01897119199998], "10": [40.85162648361908, -73.90889123495236], "11": [40.750276, -73.74202691666667], "12": [40.84623371, -73.8392037], "13": [40.59747665, -73.82895485], "14": [40.52257, -74.19001], "15": [40.60716362950002, -73.75385837699999], "16": [40.689129838000014, -73.83276477833333], "17": [40.674790625, -73.7398497], "18": [40.64757225925001, -73.88670693962499], "19": [40.59478442, -73.97821308], "20": [40.5902323, -74.0822615] }, "3.000000000000015": { "0": [40.82451527587502, -73.87356344812498], "1": [40.67391481061116, -73.9244840291111], "2": [40.7406265337273, -73.84292855327271], "3": [40.63967243085717, -74.07177890428568], "4": [40.690878580111146, -73.97069275922219], "5": [40.672048702250024, -73.77688463424998], "6": [40.58181490000001, -73.9654302], "7": [40.82986239737505, -73.93532483931246], "8": [40.734602595571445, -73.74116604242856], "9": [40.51180433500008, -74.25003459199995], "10": [40.755201854666716, -73.8882835093333], "11": [40.72089492880005, -73.99229515739997], "12": [40.681882118833364, -73.85300530383331], "13": [40.76095062837504, -73.98318281787496], "14": [40.87125005833336, -73.85870972316664], "15": [40.62353482100008, -74.15018107966664], "16": [40.713051509750024, -73.80480516474998], "17": [40.63414852812502, -73.93595966037498], "18": [40.85269952425003, -73.89511591174998], "19": [40.640577783000076, -73.98818130679996] } }

        var map;
        var directionsDisplay;
        var directionsService;

        function getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {
            var R = 6371; // Radius of the earth in km
            var dLat = deg2rad(lat2 - lat1); // deg2rad below
            var dLon = deg2rad(lon2 - lon1);
            var a =
                Math.sin(dLat / 2) * Math.sin(dLat / 2) +
                Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *
                Math.sin(dLon / 2) * Math.sin(dLon / 2);
            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
            var d = R * c; // Distance in km
            return d;
        }

        function deg2rad(deg) {
            return deg * (Math.PI / 180)
        }

        function initMap(location) {
            directionsService = new google.maps.DirectionsService();
            directionsDisplay = new google.maps.DirectionsRenderer();
            var loc = new google.maps.LatLng(location.coords.latitude, location.coords.longitude);
            map = new google.maps.Map(document.getElementById('map'), {
                mapTypeControl: false,
                zoom: 7,
                center: loc,
                mapTypeId: 'terrain'
            });
            var marker = new google.maps.Marker({
                position: loc,
                map: map
            });

            // directionsDisplay.setMap(map);
            directionsDisplay.setMap(map);
            var script = document.createElement('script');
            //script.src = 'helper.js';
            document.getElementsByTagName('head')[0].appendChild(script);

            map.data.setStyle(function(feature) {
                var magnitude = feature.getProperty('mag');
                console.log(typeof(magnitude));
                return {
                    icon: getCircle(magnitude)
                };
            });
            new AutocompleteDirectionsHandler(map);
        }


        function getCircle(magnitude) {
            return {
                path: google.maps.SymbolPath.CIRCLE,
                fillColor: 'red',
                fillOpacity: .2,
                scale: Math.pow(2, magnitude) / 2,
                strokeColor: 'white',
                strokeWeight: .5
            };
        }

        /**
         * @constructor
         */
        function AutocompleteDirectionsHandler(map) {
            this.map = map;
            this.originPlaceId = null;
            this.destinationPlaceId = null;
            this.travelMode = 'WALKING';
            var originInput = document.getElementById('origin-input');
            var destinationInput = document.getElementById('destination-input');
            var modeSelector = document.getElementById('mode-selector');
            this.directionsService = new google.maps.DirectionsService;
            this.directionsDisplay = new google.maps.DirectionsRenderer;
            this.directionsDisplay.setMap(map);

            var originAutocomplete = new google.maps.places.Autocomplete(
                originInput, {
                    placeIdOnly: true
                });
            var destinationAutocomplete = new google.maps.places.Autocomplete(
                destinationInput, {
                    placeIdOnly: true
                });
            this.setupClickListener('changemode-driving', 'DRIVING');
            this.setupClickListener('changemode-walking', 'WALKING');
            this.setupClickListener('changemode-transit', 'TRANSIT');
            //this.setupClickListener('changemode-driving', 'DRIVING');

            this.setupPlaceChangedListener(originAutocomplete, 'ORIG');
            this.setupPlaceChangedListener(destinationAutocomplete, 'DEST');

            this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(originInput);
            this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(destinationInput);
            this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(modeSelector);
        }

        // Sets a listener on a radio button to change the filter type on Places
        // Autocomplete.
        AutocompleteDirectionsHandler.prototype.setupClickListener = function(id, mode) {
            var radioButton = document.getElementById(id);
            var me = this;
            radioButton.addEventListener('click', function() {
                me.travelMode = mode;
                me.route();
            });
        };

        AutocompleteDirectionsHandler.prototype.setupPlaceChangedListener = function(autocomplete, mode) {
            var me = this;
            autocomplete.bindTo('bounds', this.map);
            autocomplete.addListener('place_changed', function() {
                var place = autocomplete.getPlace();
                if (!place.place_id) {
                    window.alert("Please select an option from the dropdown list.");
                    return;
                }
                if (mode === 'ORIG') {
                    me.originPlaceId = place.place_id;
                } else {
                    me.destinationPlaceId = place.place_id;
                }
                me.route();
            });

        };

        AutocompleteDirectionsHandler.prototype.route = function() {
            if (!this.originPlaceId || !this.destinationPlaceId) {
                return;
            }
            var me = this;

            this.directionsService.route({
                origin: {
                    'placeId': this.originPlaceId
                },
                destination: {
                    'placeId': this.destinationPlaceId
                },
                travelMode: this.travelMode,
                provideRouteAlternatives: true,
                unitSystem: google.maps.UnitSystem.METRIC
            }, function(response, status) {
                if (status === 'OK') {
                    var image1 = {
                        url: 'https://cdn.pixabay.com/photo/2012/04/23/16/54/warning-39047_640.png',
                        // This marker is 20 pixels wide by 32 pixels high.
                        scaledSize: new google.maps.Size(28, 28),
                        // size: new google.maps.Size(20, 32),

                    };
                    var image2 = {
                        url: 'https://www.canada.ca/content/dam/hc-sc/migration/hc-sc/cps-spc/images/legislation/acts-lois/hazard-symbol-danger1.jpg',
                        // This marker is 20 pixels wide by 32 pixels high.
                        scaledSize: new google.maps.Size(28, 28),
                        // size: new google.maps.Size(20, 32),

                    };;
                    var image3 = {
                        url: 'https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-256.png',
                        // This marker is 20 pixels wide by 32 pixels high.
                        scaledSize: new google.maps.Size(23, 23),
                        // size: new google.maps.Size(20, 32),

                    };
                    var image4 = {
                        url: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/SNice.svg/220px-SNice.svg.png',
                        // This marker is 20 pixels wide by 32 pixels high.
                        scaledSize: new google.maps.Size(23, 23),
                        // size: new google.maps.Size(20, 32),

                    };
                    var image5 = {
                        url: 'https://static9.depositphotos.com/1431107/1143/i/950/depositphotos_11437164-stock-photo-green-tick.jpg',
                        // This marker is 20 pixels wide by 32 pixels high.
                        scaledSize: new google.maps.Size(23, 23),
                        // size: new google.maps.Size(20, 32),

                    };
                    color = ["purple", "yellow", "green", "blue", "pink"];
                    //me.directionsDisplay.setDirections(response);
                    //  console.log(response.routes);
                    var dindex = [];

                    
                    for (var k = 0, len = response.routes.length; k < len; k++) {
                        dindex[k] = 0;
                        var points = response.routes[k].overview_path;
                        // console.log(k,points);
                        // console.log(typeof(points[1].lng()) );
                        // console.log(points[1].lng());
                        var latitude = [];
                        var longitude = [];

                        console.log(points.length);
                        var dind = 0;
                        var danger=[];
                        for (var q = 0, len = points.length; q < len; q++) {
                            // console.log(q);
                            var latitude_out = points[q].lat();
                            var longitude_out = points[q].lng();
                            // console.log(latitude_out,longitude_out);  

                            // console.log("FVGBHNJMKL,.;")
                            var ind = 0;
                            var array_least_distance = [];

                            for (var w = 0, len = danger_index.length; w < len; w++) {
                                var index = String(danger_index[w]);
                                // console.log(index);

                                var in_arr = [];
                                var ind2 = 0;

                                for (var prop in second_cluster[index]) {
                                    // console.log("SDFGHNJM")
                                    var lati = second_cluster[index][prop][0];
                                    var longi = second_cluster[index][prop][1];
                                    var dis = getDistanceFromLatLonInKm(lati, longi, latitude_out, longitude_out);
                                    // console.log(lati, longi, latitude_out, longitude_out);
                                    in_arr[ind2] = dis;
                                    ind2 = ind2 + 1;
                                }
                                // console.log(in_arr);
                                // console.log(Math.min(in_arr));
                                array_least_distance[ind] = Math.min.apply(null, in_arr);
                                ind = ind + 1;
                                // console.log(array_least_distance);


                            }
                            // console.log(array_least_distance);
                            var calc=0;
                            for (var a = 0, len = array_least_distance.length; a < len; a++) {
                                var value = array_least_distance[a];
                                calc= calc+(value*danger_index[a]);
                                // if(value<2){
                                //   calc= calc+(value*danger_index[a]);
                                // }

                                // else if (value <5){
                                //   calc= calc+(value*danger_index[a]*0.5);
                                // }

                                // else if (value <7){
                                //   calc= calc+(value*danger_index[a]*0.25);
                                // }

                                // else if (value <10){
                                //   calc= calc+(value*danger_index[a]*0.125);
                                // }

                                // else{
                                //   calc=calc+0;
                                // }

                            }

                            danger[dind]=calc;
                            dind=dind+1;

                        }

                        console.log(danger);
                        // var a = [1,2,3];
                        var sum = danger.reduce(function(a, b) { return a + b; }, 0);
                        // console.log("Total Danger Index :-")
                        // console.log(sum);



                        new google.maps.DirectionsRenderer({
                            map: map,
                            directions: response,
                            routeIndex: k,
                            unitSystem: google.maps.UnitSystem.METRIC,
                            provideRouteAlternatives: true,
                            polylineOptions: {
                                strokeColor: color[k],
                                strokeOpacity: 0.7,
                                strokeWeight: 10

                            }

                        });
                        //console.log(points);
                        //console.log(data);
                        var infoWindow = new google.maps.InfoWindow;
                        var posInit;
                        var count = 0;
                        for (var j = 0; j < points.length; j++) {
                            for (var i = 0; i < data.length; i++) {

                                var st1 = data[i].lati.toString();
                                st1 = st1.slice(0, (st1.indexOf(".")) + 3);
                                var st3 = data[i].longi.toString();
                                st3 = st3.slice(0, (st3.indexOf(".")) + 3);
                                var st2 = points[j].lng().toString();
                                st2 = st2.slice(0, (st2.indexOf(".")) + 3);
                                var st4 = points[j].lat().toString();
                                st4 = st4.slice(0, (st4.indexOf(".")) + 3);

                                if ((st1 === st2) && (st3 === st4)) {
                                    count++;
                                    posInit = new google.maps.LatLng(data[i].longi, data[i].lati);

                                    if (data[i].properties.mag == 4) {
                                        var marker = new google.maps.Marker({
                                            position: new google.maps.LatLng(data[i].longi, data[i].lati),
                                            icon: image1,
                                            map: map
                                        });
                                        dindex[k] += 4;
                                    } else if (data[i].properties.mag == 3) {
                                        var marker = new google.maps.Marker({
                                            position: new google.maps.LatLng(data[i].longi, data[i].lati),
                                            icon: image2,
                                            map: map
                                        });
                                        dindex[k] += 3;
                                    } else if (data[i].properties.mag == 2) {
                                        var marker = new google.maps.Marker({
                                            position: new google.maps.LatLng(data[i].longi, data[i].lati),
                                            icon: image3,
                                            map: map
                                        });
                                        dindex[k] += 2;
                                    } else if (data[i].properties.mag == 1) {
                                        var marker = new google.maps.Marker({
                                            position: new google.maps.LatLng(data[i].longi, data[i].lati),
                                            icon: image4,
                                            map: map
                                        });
                                        dindex[k] += 1;
                                    } else if (data[i].properties.mag == 0) {
                                        var marker = new google.maps.Marker({
                                            position: new google.maps.LatLng(data[i].longi, data[i].lati),
                                            icon: image5,
                                            map: map
                                        });
                                    }

                                }
                            }

                        }

                        dindex[k] /= count;
                        var div = document.createElement('div');
                        div.className = "ui main container segment"
                        document.body.appendChild(div);
                        var colour = "color" + k,
                            duration = "duration" + k,
                            distance = "distance" + k,
                            safetyi = "safetyi" + k;
                        div.innerHTML = '<ul class="msg"><li id=' + colour + '></li><li id=' + duration + '></li><li id=' + distance + '></li><li id=' + safetyi + '></li></ul>';
                        document.getElementById(colour).innerHTML = "Route Number:  " + parseInt(k+1) + " is colored " +
                            (color[k]);
                        document.getElementById(distance).innerHTML = "Distance  : " +
                            (response.routes[k].legs[0].distance.text);
                        //console.log((response.routes[i].legs[0].distance.value) / 1000 + "killo meters");
                        // Display the duration:
                        document.getElementById(duration).innerHTML = "Time duration for reaching : " +
                            response.routes[k].legs[0].duration.text;
                        console.log(response.routes[k].legs[0]);
                        infoWindow.setPosition(posInit);
                        var di = sum/parseInt(response.routes[k].legs[0].distance.text);
                        // console.log(sum);
                        // console.log(parseInt(response.routes[k].legs[0].distance.text));
                        console.log(di);
                        var message = 'dangerIndex is :' + di;
                        document.getElementById(safetyi).innerHTML = message;
                        var dis = 'Route :' + k;
                        //infoWindow.setContent(dis);
                        //       infoWindow.open(map);


                    }
                    //  console.log(dindex);
                    var routes = response.routes;
                    for (var j = 0; j < routes.length; j++) {
                        var points = routes[j].overview_path;


                    }


                } else {
                    window.alert('Directions request failed due to ' + status);
                }
            });
        };

        $(document).ready(function() {
            navigator.geolocation.getCurrentPosition(initMap);
        });
    </script>
    <script src="logic.js"></script>
</body>
</html>